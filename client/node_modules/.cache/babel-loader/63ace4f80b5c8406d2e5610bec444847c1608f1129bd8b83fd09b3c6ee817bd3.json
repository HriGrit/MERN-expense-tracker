{"ast":null,"code":"var _jsxFileName = \"/Users/hrisod/my-my/work/client/src/components/context/AccountContext/AccountContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useReducer } from \"react\";\nimport axios from \"axios\";\nimport { ACCOUNT_DETAIL_FAILED, ACCOUNT_DETAIL_ACCEPTED } from \"./AccountActionType\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const accountContext = /*#__PURE__*/createContext();\nconst INITIAL_STATE = {\n  userAuth: JSON.parse(localStorage.getItem(\"userAuth\")),\n  account: null,\n  accounts: [],\n  loading: false,\n  error: null\n};\n\n// const reducer = (state, action) => {\n// \tconst { type, payload } = action;\n// \tswitch(type){\n//         case ACCOUNT_DETAIL_ACCEPTED:\n//             return(\n//                 ...state,\n//                 account: payload,\n\n//             )\n//     }\n// };\nconst reducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    // Details\n    case ACCOUNT_DETAIL_ACCEPTED:\n      return {\n        ...state,\n        account: payload,\n        loading: false,\n        error: null\n      };\n    case ACCOUNT_DETAIL_FAILED:\n      return {\n        ...state,\n        account: null,\n        loading: false,\n        error: payload\n      };\n    default:\n      return state;\n  }\n};\nexport const AccountContextProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(reducer, INITIAL_STATE);\n  const getAccountDetail = async id => {\n    try {\n      var _state$userAuth;\n      const config = {\n        headers: {\n          Authorization: `Bearer ${state === null || state === void 0 ? void 0 : (_state$userAuth = state.userAuth) === null || _state$userAuth === void 0 ? void 0 : _state$userAuth.token}`,\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      const res = await axios.get(`http://localhost:1313/api/v1/accounts/view/${id}`, config);\n      console.log(res);\n      if (res) {\n        dispatch({\n          payload: res.data,\n          type: ACCOUNT_DETAIL_ACCEPTED\n        });\n      }\n    } catch (error) {\n      dispatch({\n        type: ACCOUNT_DETAIL_FAILED,\n        payload: error.data\n      });\n    }\n  };\n  console.log(state);\n  return /*#__PURE__*/_jsxDEV(accountContext.Provider, {\n    value: {\n      getAccountDetail,\n      account: state === null || state === void 0 ? void 0 : state.account\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 3\n  }, this);\n};\n_s(AccountContextProvider, \"ih+Vd9fHXqjzC8XFlo5K5uS4lm8=\");\n_c = AccountContextProvider;\nvar _c;\n$RefreshReg$(_c, \"AccountContextProvider\");","map":{"version":3,"names":["createContext","useReducer","axios","ACCOUNT_DETAIL_FAILED","ACCOUNT_DETAIL_ACCEPTED","jsxDEV","_jsxDEV","accountContext","INITIAL_STATE","userAuth","JSON","parse","localStorage","getItem","account","accounts","loading","error","reducer","state","action","type","payload","AccountContextProvider","children","_s","dispatch","getAccountDetail","id","_state$userAuth","config","headers","Authorization","token","res","get","console","log","data","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/hrisod/my-my/work/client/src/components/context/AccountContext/AccountContext.js"],"sourcesContent":["import { createContext, useReducer } from \"react\";\nimport axios from \"axios\";\nimport {\n\tACCOUNT_DETAIL_FAILED,\n\tACCOUNT_DETAIL_ACCEPTED,\n} from \"./AccountActionType\";\nexport const accountContext = createContext();\n\nconst INITIAL_STATE = {\n\tuserAuth: JSON.parse(localStorage.getItem(\"userAuth\")),\n\taccount: null,\n\taccounts: [],\n\tloading: false,\n\terror: null,\n};\n\n// const reducer = (state, action) => {\n// \tconst { type, payload } = action;\n// \tswitch(type){\n//         case ACCOUNT_DETAIL_ACCEPTED:\n//             return(\n//                 ...state,\n//                 account: payload,\n\n//             )\n//     }\n// };\nconst reducer = (state, action) => {\n\tconst { type, payload } = action;\n\tswitch (type) {\n\t\t// Details\n\t\tcase ACCOUNT_DETAIL_ACCEPTED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccount: payload,\n\t\t\t\tloading: false,\n\t\t\t\terror: null,\n\t\t\t};\n\t\tcase ACCOUNT_DETAIL_FAILED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccount: null,\n\t\t\t\tloading: false,\n\t\t\t\terror: payload,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\nexport const AccountContextProvider = ({ children }) => {\n\tconst [state, dispatch] = useReducer(reducer, INITIAL_STATE);\n\n\tconst getAccountDetail = async (id) => {\n\t\ttry {\n\t\t\tconst config = {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${state?.userAuth?.token}`,\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t};\n\t\t\tconst res = await axios.get(\n\t\t\t\t`http://localhost:1313/api/v1/accounts/view/${id}`,\n\t\t\t\tconfig\n\t\t\t);\n\t\t\tconsole.log(res);\n\t\t\tif (res) {\n\t\t\t\tdispatch({\n\t\t\t\t\tpayload: res.data,\n\t\t\t\t\ttype: ACCOUNT_DETAIL_ACCEPTED,\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tdispatch({\n\t\t\t\ttype: ACCOUNT_DETAIL_FAILED,\n\t\t\t\tpayload: error.data,\n\t\t\t});\n\t\t}\n\t};\n\tconsole.log(state);\n\treturn (\n\t\t<accountContext.Provider\n\t\t\tvalue={{ getAccountDetail, account: state?.account }}>\n\t\t\t{children}\n\t\t</accountContext.Provider>\n\t);\n};\n"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,UAAU,QAAQ,OAAO;AACjD,OAAOC,KAAK,MAAM,OAAO;AACzB,SACCC,qBAAqB,EACrBC,uBAAuB,QACjB,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC7B,OAAO,MAAMC,cAAc,gBAAGP,aAAa,CAAC,CAAC;AAE7C,MAAMQ,aAAa,GAAG;EACrBC,QAAQ,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;EACtDC,OAAO,EAAE,IAAI;EACbC,QAAQ,EAAE,EAAE;EACZC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACR,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAMC,OAAO,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EAClC,MAAM;IAAEC,IAAI;IAAEC;EAAQ,CAAC,GAAGF,MAAM;EAChC,QAAQC,IAAI;IACX;IACA,KAAKjB,uBAAuB;MAC3B,OAAO;QACN,GAAGe,KAAK;QACRL,OAAO,EAAEQ,OAAO;QAChBN,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACR,CAAC;IACF,KAAKd,qBAAqB;MACzB,OAAO;QACN,GAAGgB,KAAK;QACRL,OAAO,EAAE,IAAI;QACbE,OAAO,EAAE,KAAK;QACdC,KAAK,EAAEK;MACR,CAAC;IACF;MACC,OAAOH,KAAK;EACd;AACD,CAAC;AACD,OAAO,MAAMI,sBAAsB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACvD,MAAM,CAACN,KAAK,EAAEO,QAAQ,CAAC,GAAGzB,UAAU,CAACiB,OAAO,EAAEV,aAAa,CAAC;EAE5D,MAAMmB,gBAAgB,GAAG,MAAOC,EAAE,IAAK;IACtC,IAAI;MAAA,IAAAC,eAAA;MACH,MAAMC,MAAM,GAAG;QACdC,OAAO,EAAE;UACRC,aAAa,EAAG,UAASb,KAAK,aAALA,KAAK,wBAAAU,eAAA,GAALV,KAAK,CAAEV,QAAQ,cAAAoB,eAAA,uBAAfA,eAAA,CAAiBI,KAAM,EAAC;UACjD,cAAc,EAAE;QACjB;MACD,CAAC;MACD,MAAMC,GAAG,GAAG,MAAMhC,KAAK,CAACiC,GAAG,CACzB,8CAA6CP,EAAG,EAAC,EAClDE,MACD,CAAC;MACDM,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;MAChB,IAAIA,GAAG,EAAE;QACRR,QAAQ,CAAC;UACRJ,OAAO,EAAEY,GAAG,CAACI,IAAI;UACjBjB,IAAI,EAAEjB;QACP,CAAC,CAAC;MACH;IACD,CAAC,CAAC,OAAOa,KAAK,EAAE;MACfS,QAAQ,CAAC;QACRL,IAAI,EAAElB,qBAAqB;QAC3BmB,OAAO,EAAEL,KAAK,CAACqB;MAChB,CAAC,CAAC;IACH;EACD,CAAC;EACDF,OAAO,CAACC,GAAG,CAAClB,KAAK,CAAC;EAClB,oBACCb,OAAA,CAACC,cAAc,CAACgC,QAAQ;IACvBC,KAAK,EAAE;MAAEb,gBAAgB;MAAEb,OAAO,EAAEK,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEL;IAAQ,CAAE;IAAAU,QAAA,EACpDA;EAAQ;IAAAiB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACe,CAAC;AAE5B,CAAC;AAACnB,EAAA,CApCWF,sBAAsB;AAAAsB,EAAA,GAAtBtB,sBAAsB;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}